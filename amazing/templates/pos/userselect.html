<html>
<head>



<!-- Blueprint -->
<link rel="stylesheet" href="{{STATIC_URL}}blueprint/screen.css" type="text/css" media="screen, projection">
<link rel="stylesheet" href="{{STATIC_URL}}blueprint/print.css" type="text/css" media="print">
<!--[if lt IE 8]>
<link rel="stylesheet" href="{{STATIC_URL}}ie.css" type="text/css" media="screen, projection">
<![endif]-->
<!-- End blueprint -->


<!-- Begin jQuery -->
<script type="text/javascript" src="{{STATIC_URL}}js/jquery-1.7.1.min.js"></script>
<script type="text/javascript" src="{{STATIC_URL}}js/jquery-ui-1.8.17.custom.min.js"></script>
<!-- Theme -->
<link type="text/css" href="{{STATIC_URL}}jquery/blitzer/jquery-ui-1.8.17.custom.css" rel="stylesheet" />

<!-- Init the user selection screen --> 
<link rel="stylesheet" href="{{STATIC_URL}}jquery/verticaltabs.css" type="text/css" media="screen,print,projection">
<script type="text/javascript">

	function buttonClick(productID){
		$.post('user/' + getSelectedUserID(), {'productID': productID});
	}

	function getSelectedUserID(){
		return $('.ui-selected span.hidden').first().text();
	}

	function setUser(id){
		var jqxhr = $.getJSON("user/" + id );
		jqxhr.success(function(user){
			$('#username').html(user[0].fields.name);
			$('#credit').html(user[0].fields.credit);
		});

	}

	function clearSelected(){
		$('#username').html("");
		$('#credit').html("");
		$('.ui-selectee').removeClass('ui-selected');
	}

	function initTabs(){
		$("#usertabs").tabs().addClass('ui-tabs-vertical ui-helper-clearfix');
		$("#usertabs li.tab").removeClass('ui-corner-top').addClass('ui-corner-left');

	}

	function initSelectables(){
		$( ".selectable" ).selectable();
		$( ".selection" ).addClass('ui-corner-bottom');
		$( ".selection" ).addClass('ui-corner-top');

		$(".selectable").bind("selectableselected", function() {
			setUser(getSelectedUserID());			
		});
		
		$("#usertabs").tabs().bind("tabsselect",function(){
			clearSelected();
		});
	}

	$(function() { /* Init tabs, link functions to buttons */

		
		$("#tabscontainer").load("userlist.html", function(){
			initSelectables();
			initTabs(); 
			$(".productbutton").each(function(index){
				$(this).bind('click', function(){
					buttonClick($(this).attr('id'));
				});
			});
		});

		

	});

</script>



<link rel="stylesheet" href="{{STATIC_URL}}jquery/selectable.css" type="text/css" media="screen,print,projection">


<script type="text/javascript">

</script>

<!-- productbuttons -->



<!-- End jQuery -->

<link rel="stylesheet" href="{{STATIC_URL}}pos.css" type="text/css" media="screen">




</head>

<body>


<div class="container">
	<p id="titlebar" class="span-24"> A.M.A.Z.I.N.G.: Awesome Met Alternatieve, Zakelijke Interface (Next Generation) </p>

	<div class="menu"> <a href="admin">admin</a> <a href="etc">etc</a></div>

	<div id="tabscontainer" class="span-12">

	</div>

	<div class="span-12 last">

	<p class="normaltext span-2"> User: </p><p id="username" class="normaltext textbox span-10 last"></p>
	<p class="normaltext span-2">Credit: </p><p id="credit" class="normaltext textbox span-10 last"></p>



	<button id="largecandy" class="normaltext productbutton span-6"> Groot Snoep <br /> (&le; 2 stuks) </button>
	<button id="smallcandy" class="normaltext productbutton span-6 last"> Klein Snoep <br /> (&gt; 2 stuks) </button>
	<p class="normaltext">Drinken:</p>
	<button id="can" class="normaltext productbutton span-4"> Blikje of <br />PET-flesje </button>
	<button id="soup" class="normaltext productbutton span-4"> Soep </button>
	<button id="beer" class="normaltext productbutton span-4 last"> Bier </button>
	<p class="normaltext">Broodje: </p>
	<button id="normal" class="normaltext productbutton span-4"> Beleg </button>
	<button id="sausage" class="normaltext productbutton span-4"> Rookworst </button>
	<button id="bapao" class="normaltext productbutton span-4 last"> Bapao </button>
	</div>
	<div id="debug" class="span-24 last">

	</div>


</div>
</body>

</html>